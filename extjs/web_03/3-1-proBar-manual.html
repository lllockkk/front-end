<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>手动模式的进度条</title>
	<link rel="stylesheet" type="text/css" href="../ext-4.2.1/resources/css/ext-all.css" />
	<script type="text/javascript" src="../ext-4.2.1/bootstrap.js"></script>
	<script type="text/javascript" src="../ext-4.2.1/locale/ext-lang-zh_CN.js"></script>
	
	<script>
		Ext.onReady(function() {
			var progressBar = Ext.create("Ext.ProgressBar", {
				renderTo: Ext.getBody(),
				width: 300
			});

			var count = 0;
			var percentage = 0;
			var progressText = "";

			Ext.TaskManager.start({
				run: function() {
					count = (count + 1) % 11;
					// if(count > 10) {
					// 	progressBar.hide();
					// }

					percentage = count / 10;
					progressText = percentage*100 + "%";
					progressBar.updateProgress(percentage, progressText, true);
				},
				interval: 1000
			});
		});
	</script>
</head>
<body>
	
</body>
</html>